<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">

    <title>Promises Exercise</title>

    <!-- Bootstrap CSS -->
    <link
    href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
    crossorigin="anonymous">

</head>
<body>

    <main class="container">

        <h1>Promises Exercise</h1>


    </main>

    <!-- jQuery Version 2.2.4 -->
    <script src="http://code.jquery.com/jquery-2.2.4.min.js"></script>

    <!-- Bootstrap JS -->
    <script
    src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
    integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
    crossorigin="anonymous"></script>

    <!-- Custom JS -->
    <script>

        {
            "use strict";

//Write a function named wait that accepts a number as a parameter, and returns a promise that resolves after the passed number of milliseconds.
//
//
//wait(1000).then(() => console.log('You\'ll see this after 1 second'));
//wait(3000).then(() => console.log('You\'ll see this after 3 seconds'));

//            const wait = delay => {
//                return new Promise((resolve) => {
//                    setTimeout(() => {
//                        resolve(delay);
//                    }, delay);
//                });
//            };
//
//            wait(3000).then((delay) => console.log(`Wait finished after ${delay / 1000} seconds!`));

//Generate a Personal Access Token for the github api.
//
//We will use this so that we don't get rate limited when talking to the github api. You can add the token to your requests like this:
//
//
//fetch(url, {headers: {'Authorization': 'token YOUR_TOKEN_HERE'}})
//Create a function that accepts a github username, and returns a promise that resolves with the date of the last commit that user made. Reference the github api documentation to achieve this.

const dateOfLastCommit = username => {
    const url = `https://api.github.com/users/${username}/events/public`;
    const options = {
        headers: {
            'Authorization': 'token c2ed306a0c819d482dd7cce7bfd691b2e78ef4cd'
        }
    };
    return fetch(url, options)
        .then(response => response.json())
        .then(data => data[0].created_at);
};


console.log(dateOfLastCommit('jreich5').then(lastCommitDate => console.log(lastCommitDate)));



        }

    </script>

</body>
</html>